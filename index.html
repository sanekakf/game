<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperAuto - Game</title>
    <style>
        /* –°—Ç–∏–ª–∏ –∏–∑ base.css (—Å –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏) */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            user-select: none; 
        }

        @font-face {
            font-family: 'GameFont';
            src: url('10558.ttf');
        }

        body {
            font-family: 'GameFont', sans-serif;
            overflow: hidden; 
        }

        ul, ol { list-style-type: none; line-height: 1.3; }
        ul li, ol li { margin-bottom: 5px; font-size: 18px; }

        
        .screen, .score-value span {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        
        .screen-start, .screen-name, .screen-ranking {
            width: 70vw;
            height: auto;
            max-height: 80vh;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            border-radius: 10px;
            z-index: 100;
            text-align: center;
            display: none; 
        }

        .screen-active {
            display: block !important;
        }

        
        .screen-game {
            display: none; 
            width: 100vw;
            height: 100vh;
            position: relative;
            background: url('bg-game.jpg') no-repeat center center;
            background-size: cover;
            overflow: hidden;
            left: 0; top: 0; transform: none; /* –°–±—Ä–æ—Å —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∏–≥—Ä—ã */
        }

        
        h1 { margin-bottom: 30px; font-size: 40px; text-align: center; color: #333; }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th { background: #778d94; color: white; padding: 10px; }
        td { padding: 8px; border-bottom: 1px solid #ddd; text-align: center; }
        
        
        form { margin-top: 20px; text-align: center; }
        input[type='text'] {
            min-width: 200px;
            padding: 10px;
            font-size: 18px;
            border: 2px solid #778d94;
        }
        button.btn-main {
            padding: 10px 20px;
            background: #778d94;
            color: #fff;
            border: none;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }
        button.btn-main:hover { background: #5a6b70; }

        
        .game-ui {
            position: absolute;
            color: #fff;
            font-size: 24px;
            text-shadow: 2px 2px 2px #000;
            z-index: 10;
        }
        .ui-top-left { top: 20px; left: 20px; text-align: left; }
        .ui-top-right { top: 20px; right: 20px; text-align: right; }
        
        .hearts-container img {
            width: 30px;
            height: auto;
            margin-right: 5px;
        }

        
        #game-area {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .player-car {
            position: absolute;
            bottom: 20px;
            width: 80px;
            height: 120px;
            background-image: url('car1.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 5;
            transition: left 0.1s linear; 
        }

        .game-object {
            position: absolute;
            width: 60px;
            height: 60px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 4;
        }

        
        .obj-pothole { background-image: url('bank1.png'); } 
        .obj-tool { background-image: url('bank2.png'); }    

    </style>
</head>
<body>

    <div id="screen-start" class="screen screen-start screen-active">
        <h1>–°—É–ø–µ—Ä–ê–≤—Ç–æ</h1>
        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!</p>
        <br>
        <ul style="text-align: left; display: inline-block;">
            <li>üöó <b>–ú–∞—à–∏–Ω–∞:</b> –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏–ª–∏ –º—ã—à–∫–æ–π.</li>
            <li>üï≥Ô∏è <b>–í—ã–±–æ–∏–Ω—ã (–ë–∞–Ω–∫–∞ 1):</b> –û–±—ä–µ–∑–∂–∞–π—Ç–µ! (-1 –∂–∏–∑–Ω—å).</li>
            <li>üîß <b>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–ë–∞–Ω–∫–∞ 2):</b> –°–æ–±–∏—Ä–∞–π—Ç–µ! (+1 –±–∞–ª–ª).</li>
            <li>‚ù§Ô∏è <b>–¶–µ–ª—å:</b> –ù–∞–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤ –∑–∞ 20 —Å–µ–∫—É–Ω–¥.</li>
        </ul>
        <form id="login-form">
            <input type="text" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–≥—Ä–æ–∫–∞" required autocomplete="off">
            <br>
            <button type="submit" class="btn-main">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        </form>
    </div>

    <div id="screen-game" class="screen screen-game">
        <div class="game-ui ui-top-left">
            <div id="player-name-display">–ò–≥—Ä–æ–∫: Player</div>
            <div class="hearts-container" id="hearts-display">
                </div>
        </div>
        <div class="game-ui ui-top-right">
            <div>–í—Ä–µ–º—è: <span id="timer">00:20</span></div>
            <div>–°—á–µ—Ç: <span id="score">0</span></div>
        </div>

        <div id="game-area">
            <div id="player" class="player-car"></div>
            </div>
    </div>

    <div id="screen-ranking" class="screen screen-ranking">
        <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h1>
        <p>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</p>
        <div style="margin: 15px 0;">
            –í–∞—à —Å—á–µ—Ç: <b id="final-score" style="font-size: 24px;">0</b>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th>–ú–µ—Å—Ç–æ</th>
                    <th>–ò–º—è</th>
                    <th>–û—á–∫–∏</th>
                </tr>
            </thead>
            <tbody id="ranking-body">
                </tbody>
        </table>

        <button onclick="location.reload()" class="btn-main">–ò–≥—Ä–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞</button>
    </div>

    <script>
        // --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –°–æ—Å—Ç–æ—è–Ω–∏–µ ---
        const config = {
            gameDuration: 20, // —Å–µ–∫—É–Ω–¥
            spawnRate: 600,   // –º—Å –º–µ–∂–¥—É –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤
            speed: 5,         // —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
            carSpeed: 15      // —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        };

        const state = {
            username: '',
            score: 0,
            health: 3, // –û–±—ã—á–Ω–æ 3 –∏–ª–∏ 5, –≤ –¢–ó –Ω–µ —É–∫–∞–∑–∞–Ω–æ —Ç–æ—á–Ω–æ —á–∏—Å–ª–æ, –Ω–æ –µ—Å—Ç—å "–ø–æ—Ç–µ—Ä—è –µ–¥–∏–Ω–∏—Ü—ã". –ü—É—Å—Ç—å –±—É–¥–µ—Ç 3.
            timeLeft: config.gameDuration,
            isPlaying: false,
            lastTime: 0,
            dropInterval: null,
            timerInterval: null,
            objects: [] // –º–∞—Å—Å–∏–≤ –ø–∞–¥–∞—é—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
        };

        // –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–∑ –¢–ó JSON)
        let leaderboard = [
            {id: "1", username: "Andsarey", score: 100},
            {id: "2", username: "Andrew", score: 100}
        ];

        // --- DOM –≠–ª–µ–º–µ–Ω—Ç—ã ---
        const screens = {
            start: document.getElementById('screen-start'),
            game: document.getElementById('screen-game'),
            ranking: document.getElementById('screen-ranking')
        };
        const form = document.getElementById('login-form');
        const inputName = document.getElementById('username');
        const playerCar = document.getElementById('player');
        const gameArea = document.getElementById('game-area');
        const elTimer = document.getElementById('timer');
        const elScore = document.getElementById('score');
        const elHearts = document.getElementById('hearts-display');
        const elNameDisplay = document.getElementById('player-name-display');
        const elFinalScore = document.getElementById('final-score');
        const elRankingBody = document.getElementById('ranking-body');

        // --- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≠–∫—Ä–∞–Ω–∞–º–∏ ---
        function showScreen(name) {
            Object.values(screens).forEach(s => s.classList.remove('screen-active'));
            screens[name].classList.add('screen-active');
            
            // –ï—Å–ª–∏ –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã, –º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ block/flex –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏,
            // –Ω–æ CSS –∫–ª–∞—Å—Å .screen-active –¥–µ–ª–∞–µ—Ç display: block. –î–ª—è –∏–≥—Ä—ã —ç—Ç–æ –æ–∫.
        }

        // --- –õ–æ–≥–∏–∫–∞ –ò–≥—Ä—ã ---

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            if(inputName.value.trim() !== "") {
                state.username = inputName.value.trim();
                startGame();
            }
        });

        function startGame() {
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
            state.score = 0;
            state.health = 5; // –î–∞–¥–∏–º 5 –∂–∏–∑–Ω–µ–π –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã
            state.timeLeft = config.gameDuration;
            state.isPlaying = true;
            state.objects = [];
            
            // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è
            document.querySelectorAll('.game-object').forEach(e => e.remove());
            
            // UI –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            elNameDisplay.textContent = state.username;
            updateUI();
            
            // –ü–æ–∑–∏—Ü–∏—è –º–∞—à–∏–Ω—ã (—Ü–µ–Ω—Ç—Ä)
            playerCar.style.left = 'calc(50% - 40px)';

            showScreen('game');

            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–æ–≤
            state.timerInterval = setInterval(() => {
                state.timeLeft--;
                updateUI();
                if(state.timeLeft <= 0) endGame();
            }, 1000);

            state.dropInterval = setInterval(spawnObject, config.spawnRate);

            // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (–∞–Ω–∏–º–∞—Ü–∏—è)
            requestAnimationFrame(gameLoop);
        }

        function updateUI() {
            // –¢–∞–π–º–µ—Ä
            let min = Math.floor(state.timeLeft / 60);
            let sec = state.timeLeft % 60;
            elTimer.textContent = `00:${sec < 10 ? '0'+sec : sec}`;
            
            // –°—á–µ—Ç
            elScore.textContent = state.score;

            // –°–µ—Ä–¥–µ—á–∫–∏
            elHearts.innerHTML = '';
            for(let i=0; i<state.health; i++) {
                const img = document.createElement('img');
                img.src = 'heart.png';
                elHearts.appendChild(img);
            }
        }

        function spawnObject() {
            if(!state.isPlaying) return;

            const obj = document.createElement('div');
            obj.classList.add('game-object');
            
            // 70% —à–∞–Ω—Å –Ω–∞ –≤—ã–±–æ–∏–Ω—É, 30% –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
            const isTool = Math.random() > 0.7; 
            
            if (isTool) {
                obj.classList.add('obj-tool'); // –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–±–æ–Ω—É—Å)
                obj.dataset.type = 'tool';
            } else {
                obj.classList.add('obj-pothole'); // –í—ã–±–æ–∏–Ω–∞ (–≤—Ä–∞–≥)
                obj.dataset.type = 'pothole';
            }

            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è X (—É—á–∏—Ç—ã–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –æ–±—ä–µ–∫—Ç–∞ 60px)
            const maxX = gameArea.clientWidth - 60;
            const randomX = Math.floor(Math.random() * maxX);
            
            obj.style.left = randomX + 'px';
            obj.style.top = '-60px'; // –ù–∞—á–∞–ª–æ –∑–∞ —ç–∫—Ä–∞–Ω–æ–º

            gameArea.appendChild(obj);
            state.objects.push({ el: obj, y: -60, speed: config.speed + Math.random() * 2 }); // –ù–µ–º–Ω–æ–≥–æ —Ä–∞–∑–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
        }

        // --- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–∞—à–∏–Ω–æ–π ---
        let carX = window.innerWidth / 2 - 40;
        const keys = {};

        window.addEventListener('keydown', e => keys[e.code] = true);
        window.addEventListener('keyup', e => keys[e.code] = false);
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à–∫–æ–π (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
        gameArea.addEventListener('mousemove', (e) => {
            if(!state.isPlaying) return;
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –º–∞—à–∏–Ω—É –ø–æ –∫—É—Ä—Å–æ—Ä—É
            let newX = e.clientX - 40; 
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
            if(newX < 0) newX = 0;
            if(newX > gameArea.clientWidth - 80) newX = gameArea.clientWidth - 80;
            
            carX = newX;
            playerCar.style.left = carX + 'px';
        });

        function moveCarKeyboard() {
            if (keys['ArrowLeft'] || keys['KeyA']) {
                carX -= config.carSpeed;
            }
            if (keys['ArrowRight'] || keys['KeyD']) {
                carX += config.carSpeed;
            }

            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
            if(carX < 0) carX = 0;
            if(carX > gameArea.clientWidth - 80) carX = gameArea.clientWidth - 80;

            playerCar.style.left = carX + 'px';
        }

        // --- Collision Detection (–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è) ---
        function checkCollision(rect1, rect2) {
            return !(rect1.right < rect2.left || 
                     rect1.left > rect2.right || 
                     rect1.bottom < rect2.top || 
                     rect1.top > rect2.bottom);
        }

        function gameLoop() {
            if(!state.isPlaying) return;

            // –î–≤–∏–∂–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π (–µ—Å–ª–∏ –º—ã—à—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
            moveCarKeyboard();

            const carRect = playerCar.getBoundingClientRect();

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
            state.objects.forEach((objData, index) => {
                objData.y += objData.speed;
                objData.el.style.top = objData.y + 'px';

                const objRect = objData.el.getBoundingClientRect();

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
                if (checkCollision(carRect, objRect)) {
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–∏–∫–∏
                    if (objData.el.dataset.type === 'tool') {
                        state.score++; // –°–æ–±—Ä–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
                        // –ê–Ω–∏–º–∞—Ü–∏—è –∏–ª–∏ –∑–≤—É–∫ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–¥–µ—Å—å
                    } else {
                        state.health--; // –ü–æ–ø–∞–ª–∏ –≤ —è–º—É
                    }
                    
                    // –£–¥–∞–ª—è–µ–º –æ–±—ä–µ–∫—Ç
                    objData.el.remove();
                    state.objects.splice(index, 1);
                    updateUI();

                    if(state.health <= 0) {
                        endGame();
                    }
                }
                // –£–¥–∞–ª–µ–Ω–∏–µ –µ—Å–ª–∏ —É–ª–µ—Ç–µ–ª –≤–Ω–∏–∑
                else if (objData.y > window.innerHeight) {
                    objData.el.remove();
                    state.objects.splice(index, 1);
                }
            });

            if(state.isPlaying) requestAnimationFrame(gameLoop);
        }

        // --- –ö–æ–Ω–µ—Ü –ò–≥—Ä—ã –∏ –†–µ–π—Ç–∏–Ω–≥ ---
        function endGame() {
            state.isPlaying = false;
            clearInterval(state.timerInterval);
            clearInterval(state.dropInterval);

            elFinalScore.textContent = state.score;

            // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
            leaderboard.push({
                id: Date.now().toString(),
                username: state.username,
                score: parseInt(state.score)
            });

            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –æ—á–∫–æ–≤
            leaderboard.sort((a, b) => b.score - a.score);

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
            renderLeaderboard();

            showScreen('ranking');
        }

        function renderLeaderboard() {
            elRankingBody.innerHTML = '';
            
            // –ù–∞—Ö–æ–¥–∏–º –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞
            const myRankIndex = leaderboard.findIndex(p => p.username === state.username && p.score === state.score);
            
            // –ü—Ä–∞–≤–∏–ª–∞ –¢–ó: –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–≥—Ä–æ–∫–∞ –∏ –≤—Å–µ—Ö –∫—Ç–æ –ù–ò–ñ–ï (–º–µ–Ω—å—à–µ –±–∞–ª–ª–æ–≤).
            // –ù–æ –æ–±—ã—á–Ω–æ –≤ –∏–≥—Ä–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ø + –∏–≥—Ä–æ–∫–∞. 
            // –¢–ó: "–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤, –Ω–∞–±—Ä–∞–≤—à–∏—Ö –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤"
            
            // –ü—Ä–æ—Å—Ç–æ –≤—ã–≤–µ–¥–µ–º –≤—Å—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏, –Ω–æ –≤—ã–¥–µ–ª–∏–º —Ç–µ–∫—É—â–µ–≥–æ
            // –ò–ª–∏ —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–µ–º –¢–ó: –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ç–µ—Ö, –∫—Ç–æ –≤—ã—à–µ? 
            // –î–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞–∂–µ–º –≤—Å–µ—Ö, –Ω–∞—á–∏–Ω–∞—è —Å –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞ –∏ –Ω–∏–∂–µ, –∫–∞–∫ –ø—Ä–æ—Å—è—Ç.
            
            // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–∞ 1 –º–µ—Å—Ç–µ, –ø–æ–∫–∞–∂–µ–º –≤—Å–µ—Ö. –ï—Å–ª–∏ –Ω–∞ 10-–º, –ø–æ–∫–∞–∂–µ–º —Å 10-–≥–æ –∏ –Ω–∏–∂–µ.
            
            const listToShow = leaderboard.slice(myRankIndex); // –ë–µ—Ä–µ–º –æ—Ç –∏–≥—Ä–æ–∫–∞ –∏ –¥–æ –∫–æ–Ω—Ü–∞
            
            // –û–¥–Ω–∞–∫–æ, —á—Ç–æ–±—ã –±—ã–ª–æ –∫—Ä–∞—Å–∏–≤–æ, –ª—É—á—à–µ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ø-5 –∏ –∏–≥—Ä–æ–∫–∞.
            // –ù–æ —Å–ª–µ–¥—É–µ–º –¢–ó –±—É–∫–≤–∞–ª—å–Ω–æ: "—Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ ... –Ω–∞–±—Ä–∞–≤—à–∏—Ö –º–µ–Ω—å—à–µ–µ".
            
            // –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π (–≥–ª—é–∫), –±–µ—Ä–µ–º –≤–µ—Å—å
            const dataToRender = listToShow.length > 0 ? listToShow : leaderboard;

            dataToRender.forEach((item) => {
                // –í—ã—á–∏—Å–ª—è–µ–º –µ–≥–æ —Ä–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–ø–∏—Å–∫–µ
                const realRank = leaderboard.indexOf(item) + 1;

                const row = document.createElement('tr');
                if (item.username === state.username && item.score === state.score) {
                    row.style.fontWeight = 'bold';
                    row.style.background = '#eef';
                }

                row.innerHTML = `
                    <td>${realRank}</td>
                    <td>${item.username}</td>
                    <td>${item.score}</td>
                `;
                elRankingBody.appendChild(row);
            });
        }
    </script>
</body>
</html>